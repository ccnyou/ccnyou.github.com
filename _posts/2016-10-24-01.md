---
layout: archive
title: sqlite删除指定的列
---
最近由于APP数据库的升级错误，需要写修复代码，简单记录下。

{% highlight sql linenos %}
/* 准备数据 */
drop table if exists YYTest;
drop table if exists YYTest_old;

/* 创建测试表，test_remove是我们要删除的 */
create table YYTest (id int, test_remove int);

/* 插入两个测试数据 */
insert into YYTest values (1, 1);
insert into YYTest values (2, 2);

/* stpe 1，重命名旧表 */
alter table YYTest rename to YYTest_old;
/* stpe 2，创建新表 */
create table YYTest (id int);
/* stpe 3，从旧表导数据到新表 */
insert into YYTest (id) select id from YYTest_old;
/* stpe 4，删除旧表 */
drop table YYTest_old;
{% endhighlight %}
